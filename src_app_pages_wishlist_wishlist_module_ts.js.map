{"version":3,"file":"src_app_pages_wishlist_wishlist_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAI+C;;;;;;;;;;;;;ICJ/C,gFAA4D;IACxD,8EAAuC;IAAA,0FAA+B;IAAA,4DAAW;IACrF,4DAAgB;;;;;IAkBZ,wEAAwC;IAGtC,0EAAsB;IAAA,qEAAsC;IAAA,4DAAM;IAClE,0EAAsB;IAAA,wEAA+E;IAAA,uDAAqB;IAAA,4DAAI;IAAA,4DAAM;IACpI,0EAAsB;IAAA,uDAAiD;;IAAA,4DAAM;IAC7E,0EAAsB;IAAA,wDAAmD;IAAA,4DAAM;IAI/E,2EAAsB;IACpB,2EAAiB;IACf,8EAA2F;IAAtD,wZAAS,4BAAkB,IAAC;IAC7D,4EAAU;IAAA,6EAAiB;IAAA,4DAAW;IAC1C,4DAAS;IACT,8EAA8F;IAA5D,wZAAS,yBAAe,IAAC;IACvD,4EAAU;IAAA,iEAAK;IAAA,4DAAW;IAC9B,4DAAS;IACX,4DAAM;IACR,4DAAM;IAGV,qEAAe;;;;IAnBgB,0DAAgC;IAAhC,oKAAgC;IAClC,0DAAsD;IAAtD,6KAAsD;IAAsB,0DAAqB;IAArB,qFAAqB;IACpG,0DAAiD;IAAjD,gLAAiD;IACjD,0DAAmD;IAAnD,kHAAmD;;;IAP3E,0EAAsE;IACtE,mJAsBa;IACjB,4DAAM;;;IAvBa,0DAAuB;IAAvB,sFAAuB;;;;IAhB1C,8EAAmE;IAEjE,yEAAsC;IACpC,yEAA4B;IAC1B,yEAA6B;IAAA,kEAAO;IAAA,4DAAM;IAC1C,yEAA6B;IAAA,+DAAI;IAAA,4DAAM;IACvC,yEAA6B;IAAA,gEAAK;IAAA,4DAAM;IACxC,yEAA6B;IAAA,wEAAY;IAAA,4DAAM;IAE/C,0EAA6B;IAC3B,0EAAkB;IAChB,6EAAyD;IAAlB,uSAAS,eAAO,IAAC;IAAC,qEAAS;IAAA,4DAAS;IAC7E,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,0HAwBE;IACJ,4DAAM;IAER,4DAAW;;;IA3BkB,2DAA2B;IAA3B,oGAA2B;;ADPjD,MAAM,iBAAiB;IAG5B,YAAmB,UAAqB,EAAS,QAAqB,EAAS,SAAqB;QAAjF,eAAU,GAAV,UAAU,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAa;QAAS,cAAS,GAAT,SAAS,CAAY;QAF7F,aAAQ,GAAU,CAAC,CAAC;QAC3B,QAAG,GAAC,gEAAiB;IACmF,CAAC;IAEzG,QAAQ;QAEN,uDAAuD;QACvD,qDAAqD;QACrD,oCAAoC;QACpC,wCAAwC;QACxC,mDAAmD;QACnD,QAAQ;QACR,QAAQ;QACR,MAAM;IACR,CAAC;IAEM,MAAM,CAAC,OAAe;QAC3B,MAAM,KAAK,GAAW,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACrE,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAClD;QACD,IAAG,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,IAAE,MAAM;YAC7C,IAAI,EAAE,GAAC;gBACL,SAAS,EAAC,OAAO;gBACjB,OAAO,EAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC;aACtC;QACF,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE,GAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAC,CAAC;IAGrE,CAAC;IAEM,KAAK;QACV,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE7C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,GAAE;YAC7C,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QACH,IAAG,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,IAAE,MAAM;YAC7C,IAAI,EAAE,GAAC;gBACL,SAAS,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ;gBACvC,OAAO,EAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC;aACtC;QACF,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE;YAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;YACjE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAExC,CAAC,CAAC;IACL,CAAC;IAEM,WAAW,CAAC,GAAG;QACpB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,YAAY,CAAC;IACnC,CAAC;IAEM,SAAS,CAAC,OAAe;QAC9B,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAE,KAAI,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1F,IAAG,cAAc,EAAC;YAChB,IAAG,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,iBAAiB,EAAC;gBACzE,OAAO,CAAC,SAAS,GAAG,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC9D;iBACG;gBACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,sDAAsD,GAAG,OAAO,CAAC,iBAAiB,GAAG,+BAA+B,GAAG,cAAc,CAAC,SAAS,GAAG,oBAAoB,EAAE,GAAG,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;gBAClQ,OAAO,KAAK,CAAC;aACd;SACF;aACG;YACF,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;SACnC;QACD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACnC,IAAG,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,IAAE,MAAM,EAAC;YAC5C,IAAI,EAAE,GAAC;gBACL,SAAS,EAAC,OAAO;gBACjB,OAAO,EAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACtC,UAAU,EAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC;aAC7C;YACD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE;gBACzC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;YACnB,CAAC,CAAC;SACH;IACH,CAAC;;kFA9EU,iBAAiB;+GAAjB,iBAAiB;QCZ9B,iIAEgB;QAEhB,wHA0CW;;QA9CK,0GAA0C;QAI/C,0DAA0C;QAA1C,yJAA0C;;;;;;;;;;;;;;;;;;;;;;ACHN;AACA;AACW;AACD;;;AAElD,MAAM,MAAM,GAAG;IACpB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,kEAAiB,EAAE,SAAS,EAAE,MAAM,EAAE;CAC9D,CAAC;AAYK,MAAM,cAAc;;4EAAd,cAAc;2GAAd,cAAc;+GAThB;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,+DAAY;SACb;mIAKU,cAAc,mBAHvB,kEAAiB,aALjB,yDAAY,6DAEZ,+DAAY","sources":["./src/app/pages/wishlist/wishlist.component.ts","./src/app/pages/wishlist/wishlist.component.html","./src/app/pages/wishlist/wishlist.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Data, AppService } from '../../app.service';\r\nimport { Product } from '../../app.models';\r\nimport { globalData } from 'src/app/globalVar';\r\nimport { DataService } from 'src/app/data.service';\r\n\r\n@Component({\r\n  selector: 'app-wishlist',\r\n  templateUrl: './wishlist.component.html',\r\n  styleUrls: ['./wishlist.component.scss']\r\n})\r\nexport class WishlistComponent implements OnInit {\r\n  public quantity:number = 1;\r\n  url=globalData.apiUrl\r\n  constructor(public appService:AppService, public snackBar: MatSnackBar,private dataServe:DataService) { }\r\n\r\n  ngOnInit() {\r\n    \r\n    // this.appService.Data.cartList.forEach(cartProduct=>{\r\n    //   this.appService.Data.wishList.forEach(product=>{\r\n    //     console.log(\"ekhane\",product)\r\n    //     if(cartProduct.id == product.id){\r\n    //       product.cartCount = cartProduct.cartCount;\r\n    //     }\r\n    //   });\r\n    // });\r\n  }\r\n\r\n  public remove(product:Product) {\r\n    const index: number = this.appService.Data.wishList.indexOf(product);\r\n    if (index !== -1) {\r\n        this.appService.Data.wishList.splice(index, 1);\r\n    }\r\n    if(localStorage.getItem('isLoggedIn')=='true')\r\n    var dt={\r\n      prod_dtls:product,\r\n      user_id:localStorage.getItem('userId'),\r\n     }\r\n    this.dataServe.delWishList(dt).subscribe(data=>{console.log(data)})\r\n  \r\n       \r\n  }\r\n\r\n  public clear(){\r\n    console.table(this.appService.Data.wishList);\r\n    \r\n    this.appService.Data.wishList.forEach(product=>{\r\n      this.appService.resetProductCartCount(product);\r\n    });\r\n    if(localStorage.getItem('isLoggedIn')=='true')\r\n    var dt={\r\n      prod_dtls:this.appService.Data.wishList,\r\n      user_id:localStorage.getItem('userId'),\r\n     }\r\n    this.dataServe.delWishList(dt).subscribe(data=>{console.log(data)\r\n    this.appService.Data.wishList.length = 0;\r\n\r\n     })\r\n  } \r\n\r\n  public getQuantity(val){\r\n    this.quantity = val.soldQuantity;\r\n  }\r\n\r\n  public addToCart(product:Product){\r\n    let currentProduct = this.appService.Data.cartList.filter(item=>item.id == product.id)[0];\r\n    if(currentProduct){\r\n      if((currentProduct.cartCount + this.quantity) <= product.availibilityCount){\r\n        product.cartCount = currentProduct.cartCount + this.quantity;\r\n      }\r\n      else{\r\n        this.snackBar.open('You can not add more items than available. In stock ' + product.availibilityCount + ' items and you already added ' + currentProduct.cartCount + ' item to your cart', '×', { panelClass: 'error', verticalPosition: 'top', duration: 5000 });\r\n        return false;\r\n      }\r\n    }\r\n    else{\r\n      product.cartCount = this.quantity;\r\n    }\r\n    this.appService.addToCart(product);\r\n    if(localStorage.getItem('isLoggedIn')=='true'){\r\n      var dt={\r\n        prod_dtls:product,\r\n        user_id:localStorage.getItem('userId'),\r\n        user_email:localStorage.getItem('userEmail')\r\n      }\r\n      this.dataServe.putCart(dt).subscribe(data=>{\r\n        console.log(data)\r\n      })\r\n    }\r\n  } \r\n  // public addToCart(product:Product){\r\n  \r\n  //   let currentProduct = this.appService.Data.cartList.filter(item=>item.id == product.id)[0];\r\n  //   if(this.appService.Data.cartList.filter(item=>item.id == product.id).length>0)\r\n  //   product.cartCount+=1\r\n  //   else\r\n  //   product.cartCount=1\r\n  //   console.log(product);\r\n    \r\n  //   if(currentProduct){\r\n  //     // console.log(currentProduct)\r\n  //     // if((currentProduct.cartCount + this.count) <= this.product.availibilityCount){\r\n  //       if((currentProduct.cartCount + this.count) <= 5){\r\n  //         //need to change\r\n  //       // product.cartCount = currentProduct.cartCount + this.count;\r\n  //       console.log(this.count)\r\n  //     }\r\n  //     else{\r\n  //       this.snackBar.open('You can not add more items than available. In stock ' + this.product.availibilityCount + ' items and you already added ' + currentProduct.cartCount + ' item to your cart', '×', { panelClass: 'error', verticalPosition: 'top', duration: 5000 });\r\n  //       return false;\r\n  //     }\r\n  //   }\r\n  //   else{\r\n  //     product.cartCount = this.count;\r\n  //   }\r\n  //   this.appService.addToCart(product);\r\n   \r\n  //   // this.addProdToCookie[product.id] = product;\r\n  //   // console.log(this.addProdToCookie)\r\n\r\n  // }\r\n\r\n}","<mat-chip-list *ngIf=\"appService.Data.wishList.length == 0\">\r\n    <mat-chip color=\"warn\" selected=\"true\">YOU HAVE NO ITEMS IN WISH LIST.</mat-chip>\r\n</mat-chip-list>\r\n\r\n<mat-card *ngIf=\"appService.Data.wishList?.length > 0\" class=\"p-0\">\r\n\r\n  <div class=\"mat-table wishlist-table\">\r\n    <div class=\"mat-header-row\">\r\n      <div class=\"mat-header-cell\">Product</div>\r\n      <div class=\"mat-header-cell\">Name</div>\r\n      <div class=\"mat-header-cell\">Price</div>\r\n      <div class=\"mat-header-cell\">Availability</div>\r\n      <!-- <div class=\"mat-header-cell\">Quantity</div> -->\r\n      <div class=\"mat-header-cell\">\r\n        <div class=\"px-1\">\r\n          <button mat-raised-button color=\"warn\" (click)=\"clear()\">Clear All</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngFor=\"let product of appService.Data.wishList\" class=\"mat-row\">\r\n    <ng-container *ngIf=\"product.prod_name\">\r\n\r\n    \r\n      <div class=\"mat-cell\"><img [src]=\"url+'/'+product.img_path\"></div>\r\n      <div class=\"mat-cell\"><a [routerLink]=\"['/products', product.id, product.name]\" class=\"product-name\">{{product.prod_name}}</a></div>\r\n      <div class=\"mat-cell\">&#8377;{{product.offer_price | number : '1.2-2'}}</div>\r\n      <div class=\"mat-cell\">{{ (product.stock > 0) ? 'In stock':'Unavailable'}}</div>\r\n      <!-- <div class=\"mat-cell text-muted\">\r\n        <app-controls [product]=\"product\" [type]=\"'wish'\" (onQuantityChange)=\"getQuantity($event)\"></app-controls>\r\n      </div> -->\r\n      <div class=\"mat-cell\">\r\n        <div class=\"p-1\">          \r\n          <button mat-mini-fab color=\"primary\" (click)=\"addToCart(product)\" matTooltip=\"Add to cart\">\r\n              <mat-icon>add_shopping_cart</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab color=\"warn\" (click)=\"remove(product)\" matTooltip=\"Clear\" class=\"remove\">\r\n              <mat-icon>close</mat-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n    \r\n  </ng-container>\r\n</div>\r\n  </div>\r\n\r\n</mat-card>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { WishlistComponent } from './wishlist.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: WishlistComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    WishlistComponent\r\n  ]\r\n})\r\nexport class WishlistModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}